import os

restartcheck_params = {}
restartcheck_params["atol"] = 1.0E-5
restartcheck_params["rtol"] = 1.0E-5

nx = 1
ny = 1
nz = 1
N = nx * ny * nz

testcase_name = "singleParticle"
TestCase(name=testcase_name,
         desc="Test that a single particle is set up properly and does nothing with the solid mechanics mpm solver on one rank.",
         label="auto",
         owner="RRS",
         independent=True,
         steps=(geos(deck="singleParticle.xml",
                     name="step1",
                     np=N,
                     ngpu=0,
                     x_partitions=nx,
                     y_partitions=ny,
                     z_partitions=nz,
                     restartcheck_params=restartcheck_params),
                geos(deck="gravity.xml",
                     name="step2",
                     np=N,
                     ngpu=0,
                     x_partitions=nx,
                     y_partitions=ny,
                     z_partitions=nz,
                     restart_file=os.path.join(testcase_name, "singleParticle_restart_000000968"),
                     baseline_pattern="singleParticle_restart_[0-9]+\.root",
                     allow_rebaseline=False,
                     restartcheck_params=restartcheck_params)))
