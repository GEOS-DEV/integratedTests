import os
import geos_ats
from geos_ats.test_builder import TestDeck, RestartcheckParameters, generate_geos_tests
restartcheck_params = {}
restartcheck_params["atol"] = 1.0E-6
restartcheck_params["rtol"] = 1.0E-5

# exclude any derivative fields from restart checks
# example field name: dGlobalComponentFraction_dPressure
#restartcheck_params["exclude"] = [r"d[A-Z]\w+_d[A-Z]\w+"]

decks = (
    ("co2_thermal_2d",
     "Thermal compositional co2-brine flow test (2D co2 injection, 2-phase co2-brine, Brooks-Corey relperm curves, thermal)",
     ((1, 1, 1), (2, 2, 1)), 9, 11),
    (
        "co2_thermal_obl_3d",
        "Smoke test for a co2-brine test (3D displacement, 2-phase co2-brine, thermal, OBL)",
        ((1, 1, 1), (2, 2, 2)),    # (3, 1, 1)),
        14,
        19))


generate_geos_tests_from_values( decks, restartcheck_params )