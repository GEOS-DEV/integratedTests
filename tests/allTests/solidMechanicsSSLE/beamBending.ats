restartcheck_params = {}
restartcheck_params["atol"] = 1.0E-3
restartcheck_params["rtol"] = 1.0E-7

curvecheck_params = {}
curvecheck_params['filename'] = 'displacement_history.hdf5'
curvecheck_params['tolerance'] = 0.0002
curvecheck_params['script_instructions'] = [['./beamBending_curve.py', 'curve', 'totalDisplacement', 'trace']]
curvecheck_params['curves'] = [['totalDisplacement', 'trace']]

# partitions = ((1, 1, 1), (2, 2, 2), (3, 3, 3))
partitions = ((1, 1, 1), (2, 2, 2))

beamBending = {
    "name": "beamBending",
    "description": "Tests beam bending",
    "partitions": partitions,
    "restart_step": 0,
    "check_step": 1
}

beamBending_vem = {
    "name": "beamBending_vem_smoke",
    "description": "Tests beam bending applying Virtual Elements.",
    "partitions": partitions,
    "restart_step": 0,
    "check_step": 1
}

beamBending_hybridHexPrism = {
    "name": "beamBending_hybridHexPrism_smoke",
    "description": "Tests beam bending on general polyhedral mesh",
    "partitions": partitions,
    "restart_step": 0,
    "check_step": 1
}

decks = ( beamBending,
          beamBending_vem,
          beamBending_hybridHexPrism )


import geos_ats 
from geos_ats.test_builder import generate_geos_tests_from_dictionary

generate_geos_tests_from_dictionary( decks, restartcheck_params, curvecheck_params )
