import os
import geos_ats 
from geos_ats.test_builder import TestDeck, RestartcheckParameters, generate_geos_tests


restartcheck_params = {}
restartcheck_params["atol"] = 1.0E-10
restartcheck_params["rtol"] = 4.0E-9

# format: (<input>, <desc>, <partition_list>, <restart_step>, <total_steps>)
decks = (
    ("sourceFlux_1d", "Single phase flow test (1D, compressible, source flux)", ((1, 1, 1), (2, 1, 1), (3, 1, 1)), 10,
     20),
    ("compressible_1d", "Single phase flow test (1D, compressible, Dirichlet BC)", ((1, 1, 1), (2, 1, 1), (3, 1, 1)),
     10, 20),
    ("compressible_1d_2solids",
     "Single phase flow test (1D, compressible, Dirichlet BC, 2 regions with different solids)", ((1, 1, 1), (2, 1, 1),
                                                                                                  (3, 1, 1)), 10, 20),
    (
        "incompressible_1d",
        "Single phase flow test (1D, steady-state incompressible, Dirichlet BC)",
        ((1, 1, 1), (2, 1, 1), (3, 1, 1)),
        0,
        1    # steady state, so no restart
    ),
    (
        "incompressible_pebi3d",
        "Single phase flow test (3D PEBI grid, steady-state incompressible, Dirichlet BC)",
        ((1, 1, 1), (2, 1, 1), (3, 1, 1)),
        0,
        1    # steady state, so no restart
    ),
    ("compressible_2d_2fluids",
     "Single phase flow test (2D, compressible, Dirichlet BC, 2 regions with different fluids, trans multipliers)",
     ((1, 1, 1), (2, 1, 1), (3, 1, 1)), 10, 20),
    ("compressible_2d_2fluids_hybrid",
     "Single phase flow test (2D, compressible, Dirichlet BC, 2 regions with different fluids, trans multipliers)",
     ((1, 1, 1), (2, 1, 1), (3, 1, 1)), 10, 20),
    ("sourceFlux_2d", "Single phase flow test (2D, incompressible)", ((1, 1, 1), (2, 2, 1), (3, 3, 1)), 10, 20),
    ("staircase_3d", "Single phase flow test (3D, compressible, gravity, face boundary conditions)",
     ((1, 1, 1), (2, 2, 2), (3, 3, 3)), 10, 20))

generate_geos_tests_from_values( decks, restartcheck_params )