import os

restartcheck_params = {}
restartcheck_params["atol"] = 1.0E-20
restartcheck_params["rtol"] = 1.0E-20

nx = 2
ny = 2
nz = 1
N = nx * ny * nz

testcase_name = "particleRepartition"
TestCase(name=testcase_name,
         desc="Test that a single particle can properly transit between partitions using the mpm solver.",
         label="auto",
         owner="Michael Homel",
         independent=True,
         steps=(geos(deck="mpm_particleRepartition.xml",
                     name="fullRun",
                     np=N,
                     ngpu=N,
                     x_partitions=nx,
                     y_partitions=ny,
                     z_partitions=nz,
                     restartcheck_params=restartcheck_params),
                # geos(deck="mpm_singleParticle.xml", # restarts might not be currently working for mpm
                #      name="restartRun",
                #      np=N,
                #      ngpu=N,
                #      x_partitions=nx,
                #      y_partitions=ny,
                #      z_partitions=nz,
                #      restart_file=os.path.join(testcase_name, "singleParticle_restart_000000968"),
                #      baseline_pattern="singleParticle_restart_[0-9]+\.root",
                #      allow_rebaseline=False,
                #      restartcheck_params=restartcheck_params),
                ))
